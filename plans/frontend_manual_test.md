# フロントエンド手動動作確認手順書

本ドキュメントは、自動テストではカバーしきれないUI/UXの動作確認、およびクライアント環境（デバイス、ブラウザ設定など）に依存するテスト項目の実施手順をまとめたものである。

## 実施環境
- **ブラウザ:** Google Chrome (DevToolsを使用)
- **URL:** `http://localhost:3000` (ローカル開発環境)

## 1. ネットワーク・エラーハンドリング

| ID | テスト項目 | 手順 | 期待値 | チェック |
|----|------------|------|--------|----------|
| E-01 | ネットワーク障害 | 1. Chrome DevTools > Network タブを開く<br>2. `No throttling` を `Offline` に変更<br>3. ルート検索を実行する | 「ネットワーク接続を確認してください」等の適切なエラーメッセージが表示されること。アプリがクラッシュしないこと。 | [ ] |
| E-02 | サーバータイムアウト | 1. Networkタブで `Slow 3G` を選択<br>2. ルート検索を実行する<br>3. (必要に応じサーバー側で遅延発生)<br>または、バックエンドコンテナを停止して実行 | タイムアウトエラーまたは接続エラーが適切にハンドリングされ、ユーザーに通知されること。 | [ ] |
| E-03 | 重複リクエスト | 1. 検索ボタンを短時間に何度も連打する | 最初のリクエストのみ有効になるか、最後のリクエストが優先され、不整合が起きないこと。過剰なAPIコールが抑制されているのが望ましい。 | [ ] |
| E-04 | キャンセル処理 | 1. 長距離ルート検索を実行<br>2. 完了前に「キャンセル」ボタンまたは別ページへ遷移 | リクエストが中断され、検索結果が表示されない、または前の画面の状態が維持されること。コンソールに未処理のPromiseエラーが出ないこと。 | [ ] |

## 2. デバイス・ブラウザ環境

| ID | テスト項目 | 手順 | 期待値 | チェック |
|----|------------|------|--------|----------|
| E-05 | レスポンシブ (Mobile) | 1. DevTools > Device Toolbar を有効化<br>2. `iPhone SE` 等を選択<br>3. UIを確認 | レイアウト崩れがなく、ボタンや入力欄が適切に操作できること。 | [ ] |
| E-06 | レスポンシブ (Tablet) | 1. Device Toolbar で `iPad Air` 等を選択<br>2. UIを確認 | PC版とモバイル版の中間的なレイアウト（あるいはどちらかに準拠）で、表示崩れがないこと。 | [ ] |
| E-07 | 言語設定 (i18n) | 1. DevTools > Sensors (More toolsから選択)<br>2. `Location` は任意<br>3. ブラウザの設定で言語を英語(en)に変更してリロード | (多言語対応している場合) UIの文言が英語に切り替わること。非対応ならデフォルト言語で正しく表示されること。 | [ ] |
| E-08 | タイムゾーン | 1. Sensorsタブで `Location` を `London` 等に変更<br>2. 検索結果の時間表示などを確認 | 時間表示がある場合、現地時間またはシステム設定に従って正しく表示されること。 | [ ] |
| E-09 | アクセシビリティ | 1. マウスを使わず `Tab` キーのみで操作<br>2. スクリーンリーダー（ChromeVoxなど）で読み上げ確認 | フォーカス順序が論理的であること。検索ボタン等がキーボードで実行可能であること。主要要素にaria-label等があること。 | [ ] |

## 3. プライバシー・セキュリティ設定

| ID | テスト項目 | 手順 | 期待値 | チェック |
|----|------------|------|--------|----------|
| S-01 | Cookieブロック | 1. ブラウザ設定でサードパーティCookieをブロック<br>2. アプリを利用 | 動作に必須でない機能以外は正常に動作すること。必須な場合はその旨が通知されること。 | [ ] |
| S-02 | JavaScript無効 | 1. DevTools > Settings > Debugger > Disable JavaScript<br>2. リロード | 「JavaScriptを有効にしてください」等のメッセージが表示されるか、SSRで最低限のコンテンツが表示されること（真っ白にならない）。 | [ ] |

## 4. UI操作フロー

| ID | テスト項目 | 手順 | 期待値 | チェック |
|----|------------|------|--------|----------|
| U-01 | 入力補完 | 1. 出発地に「東京」と入力 | 候補リストが表示され、選択すると座標がセットされること。 | [ ] |
| U-02 | 地図操作 | 1. 地図上のピンをドラッグして移動 | 座標が更新され、再検索（または再検索ボタンがアクティブ化）されること。 | [ ] |
| U-03 | 履歴/保持 | 1. 検索後にリロード | 入力内容や検索結果が保持されているか、クリアされて初期状態に戻るか（仕様通りであること）。 | [ ] |

